//==============================================================================
//
// The code is generated by Intel Compiler for SystemC, version 1.6.14
// see more information at https://github.com/intel/systemc-compiler
//
//==============================================================================

//==============================================================================
//
// Module: Top ()
//
module Top // "top"
(
    input logic clk,
    input logic rst
);


//------------------------------------------------------------------------------
// Child module instances

B barr_0
(
  .clk(clk),
  .rst(rst)
);

B barr_1
(
  .clk(clk),
  .rst(rst)
);

B barr_2
(
  .clk(clk),
  .rst(rst)
);

endmodule



//==============================================================================
//
// Module: B ()
//
module B // "top.name"
(
    input logic clk,
    input logic rst
);

// Variables generated for SystemC signals
logic signed [31:0] t0;

//------------------------------------------------------------------------------
// Clocked THREAD: threadProc (test_module_base_array.cpp:34:5) 

// Thread-local variables
logic [15:0] a;
logic [15:0] a_next;
logic signed [31:0] t0_next;

// Next-state combinational logic
always_comb begin : threadProc_comb     // test_module_base_array.cpp:34:5
    threadProc_func;
end
function void threadProc_func;
    a_next = a;
    t0_next = t0;
    a_next++;
    t0_next = a_next;
endfunction

// Synchronous register update
always_ff @(posedge clk or negedge rst) 
begin : threadProc_ff
    if ( ~rst ) begin
        a <= 1;
    end
    else begin
        a <= a_next;
        t0 <= t0_next;
    end
end

endmodule


